"use strict";function EventEmitter(){this._events={}}EventEmitter.prototype.listeners=function(t){return Array.apply(this,this._events[t]||[])},EventEmitter.prototype.emit=function(t,e,n,r,i,s){if(!this._events||!this._events[t])return!1;var o,v,h=this._events[t],E=h.length,c=arguments.length,p=h[0];if(1===E){switch(c){case 1:p.call(p.context||this);break;case 2:p.call(p.context||this,e);break;case 3:p.call(p.context||this,e,n);break;case 4:p.call(p.context||this,e,n,r);break;case 5:p.call(p.context||this,e,n,r,i);break;case 6:p.call(p.context||this,e,n,r,i,s);break;default:for(v=1,o=new Array(c-1);v<c;v++)o[v-1]=arguments[v];p.apply(p.context||this,o)}p.once&&this.removeListener(t,p)}else{for(v=1,o=new Array(c-1);v<c;v++)o[v-1]=arguments[v];for(v=0;v<E;p=h[++v])p.apply(p.context||this,o),p.once&&this.removeListener(t,p)}return!0},EventEmitter.prototype.on=function(t,e,n){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),e.context=n,this._events[t].push(e),this},EventEmitter.prototype.once=function(t,e,n){return e.once=!0,this.on(t,e,n)},EventEmitter.prototype.removeListener=function(t,e){if(!this._events||!this._events[t])return this;for(var n=this._events[t],r=[],i=0,s=n.length;i<s;i++)e&&n[i]!==e&&n[i].fn!==e&&r.push(n[i]);return r.length?this._events[t]=r:this._events[t]=null,this},EventEmitter.prototype.removeAllListeners=function(t){return this._events?(t?this._events[t]=null:this._events={},this):this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.setMaxListeners=function(){return this},EventEmitter.EventEmitter=EventEmitter,EventEmitter.EventEmitter2=EventEmitter,EventEmitter.EventEmitter3=EventEmitter;try{module.exports=EventEmitter}catch(t){}